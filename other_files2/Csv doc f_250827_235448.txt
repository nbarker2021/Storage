Doc F â€” Futures, Scoring, and Controllers (DFSS/AltDFSS, O1â€“O7, Policy Cards)
Purpose: Define the futures we evaluate, how we score them deterministically, and how controllers (RAW, DEEPEN, RECALL) pick legal moves using operators O1â€“O7. This chapter specifies the JSON/CSV artifacts (policy/evidence cards), strict scoring math, decision order, and validators so that every selection is reproducible from CSVs alone.
F1. Overview
A future is a small, lawful hypothetical change to the working structure (graph/orbit/octet arrangement) projected one step ahead within a BWâ€‘32 window. We enumerate futures, compute features (geometry, graph, legality, energy), and select using DFSS (Deterministic Futures Search & Scoring) or AltDFSS. The chosen future informs a concrete operator move (O1â€“O7) executed by a controller (RAW, DEEPEN, RECALL). Acceptance still depends on Doc Dâ€™s gates and, for Master, a PromotionContract.
Outputs
â€¢ policy_cards.json â€” ranked futures with scores, features, and the recommended controller/operator.
â€¢ evidence_cards.json â€” supporting evidence (quotes/atoms, octadic/geometry facts) per candidate.
â€¢ (Optional) POLICY_SUMMARY.csv â€” the topâ€‘k future decisions flattened for dashboards.
F2. Futures Taxonomy (Sâ‚€, SÂ½, Sâº, Sá¶œ, SÊ³, Sáµ’)
Each future type is deterministic (no RNG) and has a bounded branching factor B_max per window.
FutureMeaningAllowed editsLAEC costTypical useSâ‚€Identitynone0Baseline for minimax and regression checksSÂ½Halfâ€‘stepone Hammingâ€‘1 in active lane; small bridge trial+1Exploratory refinement in RAW/DEEPENSâºDimension upgradeadd a lawful dimension/feature (e.g., lane or bucket refinement)+2When octadic/geometry suggest capacitySá¶œConstrained forwardfullâ€‘step adhering to current constraints & lanes+1Evenâ€‘step acceptance candidateSÊ³Repair/rollbackinverse of last accepted step; isoenergetic rewire allowed+1RECALL after red watcher/regressionSáµ’Operatorâ€‘specifiedbounded template move (triad mediation, symmetry align)+1..+2Human hint or policyâ€‘forced move 
Determinism rules: enumerate in fixed lexical order; tieâ€‘breakers by glyph order and doc_id; seeds fixed in ops.
F3. Feature Set (per future)
For each candidate future f in window w:
â€¢ Graph metrics 
â€¢ (Fiedler) â†‘ desirable; normalized 
â€¢ C (global clustering) â†‘ desirable; normalized
â€¢ ASP (avg shortest path) â†“ desirable; normalized
â€¢ Cut fraction on proposed partition â†“ desirable
â€¢ Geometry metrics (from Doc E) 
â€¢ Î”ğ’œ (lower is better), Bandâ€‘8, chirality stability
â€¢ Octadic metrics (from Doc E) 
â€¢ Î”Q at (2,4,8); monotoneâ€‘lift indicator; clean flag boolean
â€¢ Legality 
â€¢ parity_ok, bridge_ok, chirality_bin_ok
â€¢ octet_unique (would remain 64â€‘unique?)
â€¢ Energetics / Budget 
â€¢ Î”LAEC; windows_needed delta; budget_ok if executed
All features are recorded in the candidate list inside policy_cards.json (and optionally flattened to CSV).
F4. Scoring (DFSS & AltDFSS)
F4.1 Base normalization
For each metric family M âˆˆ {Î»â‚‚, C, ASPâ»Â¹, Î”ğ’œ, Bandâ€‘8, Î”Q} compute zâ€‘scores over the candidate set in the current window. Clamp to Â±3 to stabilize.
F4.2 DFSS score
DFSS(f) = w_Î»*Î»â‚‚â‚™ + w_C*Câ‚™ + w_ASP*ASPâ»Â¹â‚™ + w_G*(-Î”ğ’œâ‚™ + Band8â‚™) + w_O*(Î”Qâ‚ˆâ‚™ + lift_flag) - w_K*(Î”LAEC_norm) 
â€¢ lift_flag âˆˆ {0,1} for monotone Qâ‚‚â‰¤Qâ‚„â‰¤Qâ‚ˆ.
â€¢ All weights are fixed in ops.yml (recorded in the policy card header).
F4.3 AltDFSS (AltScore)
AltScore(f) = 0.4*Î»â‚‚â‚™ + 0.3*Câ‚™ + 0.3*ASPâ»Â¹â‚™ + Î²1*clean + Î²2*Band8â‚™ - Î²3*Î”ğ’œâ‚™ - Î²4*Î”LAEC_norm 
Select AltScore when ops.scoring_policy = alt or when geometry/octadic dominate (Doc E signals).
F4.4 Minimax selection
â€¢ Group futures by type; pick argmax per type; then pick the minimax solution against worstâ€‘case noise model (mirror/null checks). Record the adversary model used.
â€¢ Decision order: Legality â†’ Score â†’ Geometry â†’ Î”J (secondary objective) â†’ Glyph lexicographic tie â†’ Doc id tie.
Output: policy_cards.json[top_k] with score_family, chosen_controller, chosen_operator.
F5. Controllers (RAW, DEEPEN, RECALL) & Operators (O1â€“O7)
F5.1 RAW (gentle intake)
Use when: fragmented graph (high cut), low Bandâ€‘8, or clean=false with low Qâ‚„.
Moves: prefer O1 Halfâ€‘Step, O4 Perâ€‘Edge Triad on weak edges.
Constraints: no kâ‰ˆ5 rewires; Î”LAEC low; parity odd only; bridges trialled but not committed.
F5.2 DEEPEN (structured progress)
Use when: clean=true and Q8 high; geometry stable (low Î”ğ’œ, high Bandâ€‘8).
Moves: O2 Fullâ€‘Step, O3 Centerâ€‘3â€‘Triad for consolidation, and selective kâ‰ˆ5 repairs.
Constraints: parity even allowed for acceptance; commit bridges that pass legality and reduce Î”ğ’œ.
F5.3 RECALL (repair / heavy)
Use when: watcher red (regression), chirality drift, or parity failures.
Moves: O6 Isoenergetic Slider (degreeâ€‘preserving rewires), O5 Symmetry Gate alignment, O7 Governance Swaps to satisfy law/constraints.
Constraints: may allow SÊ³ rollbacks; strict octet uniqueness enforced before leaving RECALL.
F6. Operators â€” Legal Preconditions & Costs
OperatorActionPreconditionsLAEC Î”Glyph updateO1 Halfâ€‘StepHammingâ€‘1 in active laneodd step; CI, parity_ok+1triad index increments in lane; parity O/*O2 Fullâ€‘Stepcommit lane changeeven step; rankâ†‘ or lawful fallback+1parity E/*; triad writebackO3 Centerâ€‘3â€‘Triadmediate A,B with T(A,B)A,B close; Î”S<0; glueâ‰¤cap+1new triad with mediator indexO4 Perâ€‘Edge Triadlocal triad on weak edgeedge weightâ‰¤Ï„; parity_ok+1perâ€‘edge glyph tag appendedO5 Symmetry Gateenforce symmetrysymmetry diffâ‰¤Ï„_s0mirror glyph alignmentO6 Isoenergetic Sliderdegreeâ€‘preserving rewireÎ»â‚‚ not â†“; ASP not â†‘+1glyph unchanged; ledger noteO7 Governance Swapsswap to satisfy law/constraintlaw conflict; buffer constraint+1glyph replaced; link to law id 
All operators must pass Doc D gates. Failed preconditions â†’ reject.
F7. Policy & Evidence Cards (Artifacts)
F7.1 policy_cards.json (schema)
{ "run_id": "r1", "window_id": 4, "scoring_policy": "dfss|alt", "weights": {"w_Î»":0.25, "w_C":0.2, ...}, "candidates": [ { "future_id": "f:Shalf:001", "type": "SÂ½", "features": {"lambda2_n":0.8, "C_n":0.4, "ASP_inv_n":0.3, "dA_n":-0.2, "band8":0.7, "dQ8":0.5, "clean":true, "parity_ok":true, "octet_unique":true, "dLAEC_norm":0.03}, "score": 0.69, "controller": "DEEPEN", "operator": "O2" }, ... ], "top_k": ["f:Shalf:001","f:Splus:002"], "adversary_model": "mirror_null_v1" } 
F7.2 evidence_cards.json (schema)
{ "future_id": "f:Shalf:001", "evidence": { "quotes": ["a:17aâ€¦","a:22bâ€¦"], "octadic": {"clean": true, "Q8": 0.68}, "geometry": {"band8": 0.78, "dA": -0.12} } } 
F7.3 POLICY_SUMMARY.csv (optional)
run_id,window_id,future_id,type,score,controller,operator,lambda2_n,C_n,ASP_inv_n,dA_n,band8,dQ8,clean,dLAEC_norm 
F8. Integration with PromotionScore (PS)
promotion_score in orbit.csv takes features from the chosen futureâ€™s policy card:
PS = a1*evidence_strength + a2*stability_score + a3*consistency_across_shells + a4*recency_boost + a5*human_signal + a6*agreement_rate - a7*cost_penalty(Î”LAEC_norm) 
â€¢ stability_score derives from geometry/octadic metrics and cleanâ€‘flag.
â€¢ consistency_across_shells from split balance and Bandâ€‘8 adherence.
â€¢ cost_penalty is a monotone function of Î”LAEC.
F9. Validators (DFSS integrity)
â€¢ Deterministic enumeration: future IDs generated lexicographically; B_max respected.
â€¢ Feature recompute: recomputing features from intake/orbit yields exact values in policy cards.
â€¢ Score recompute: rerunning DFSS/AltDFSS with recorded weights reproduces the top_k order.
â€¢ Controller legality: chosen operatorâ€™s preconditions satisfied; otherwise policy card invalid.
â€¢ Evidence links: all evidence_cards references resolve to existing atoms/rows.
F10. Pseudocode (window loop)
C = enumerate_futures(orbit_window) Feats = compute_features(C) Scores = score(C, policy=ops.scoring_policy) Top = select_minimax(Scores, adversary=mirror_null) Card = make_policy_card(Top, Feats, ops) Ev = make_evidence_cards(Top, orbit_window) write_cards(Card, Ev) controller = choose_controller(Top, geometry, octadic) operator = choose_operator(controller, Top) execute(operator) # then Doc D gates & contract if promoting 
F11. Worked Examples
F11.1 Clean octadic, low Î”ğ’œ â†’ DEEPEN fullâ€‘step
â€¢ clean=true, Q8=0.71, Band8=0.82, Î”ğ’œ=-0.18.
â€¢ DFSS rank 1: Sá¶œ fullâ€‘step, controller DEEPEN, operator O2.
â€¢ Promotion candidate if budget OK.
F11.2 Regression watcher red â†’ RECALL repair
â€¢ Regression detected on stability_score.
â€¢ Policy selects SÊ³ with O6 Isoenergetic Slider; Î”LAEC=+1; geometry unchanged; watchers green after repair.
F11.3 Fragmented graph â†’ RAW halfâ€‘steps
â€¢ cf8=0.28 (high), Q8=0.49, Band8=0.41.
â€¢ Policy selects SÂ½ with O1 Halfâ€‘Step and O4 Perâ€‘Edge Triad on weakest edges; no commitment until even step.
F12. Operational Stances (policy profiles)
â€¢ Conservative/IRLâ€‘First: scoring_policy=dfss, Î”LAEC weight high, cleanâ€‘flag required for DEEPEN; RECALL on any watcher red.
â€¢ Exploratory/Research: scoring_policy=alt, broader Sâº exploration; bridges aggressive; Î”LAEC penalty low.
â€¢ Throughâ€‘Mode/Paranoid: run both DFSS & AltDFSS; intersect topâ€‘k; if disagree, queue contract and defer promotion.
â€¢ Opsâ€‘Prod: frozen primitive catalog; B_max small; RECALL limited; journal every override.
F13. Checklists
Per window
â€¢ [ ] Futures enumerated deterministically (IDs)
â€¢ [ ] Features & scores computed; cards written
â€¢ [ ] Controller & operator legal
â€¢ [ ] Evidence cards linked
â€¢ [ ] LAEC delta and budget accounted
Before promotion
â€¢ [ ] Policy card referenced in PromotionContract
â€¢ [ ] Watchers green
â€¢ [ ] Contract includes evidence set & law refs (if IRL)
F14. Failure Modes & Responses
â€¢ Nonâ€‘deterministic feature (seed drift) â†’ invalidate card; rerun with fixed embed_spec_hash.
â€¢ Operator precondition fail â†’ reject policy; recompute with constraints tightened.
â€¢ Octet uniqueness violation â†’ TLattice; attempt RECALL stabilization.
â€¢ Budget overflow â†’ queue policy; mark in contract budget_ok=false until next run.
End Doc F â€” DFSS/AltDFSS, controllers, operators, and policy/evidence cards. Next: Doc G â€” Graph, Orbitals, and Seeds.